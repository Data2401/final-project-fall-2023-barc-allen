---
title: "Final Project - BARC Intake Data"
author: "Allen Beck"
date: "2023-11-15"
output: slidy_presentation
---

## Introduction

For any major city, animal shelters stand as both guardians and advocates for dogs and cats alike. Understanding the range of animal intakes these shelters process helps us develop an understanding of the challenges and opportunities inherent in animal welfare. Using public data we will achieve the ability to help address the needs of our community, identify key influences, and create strategies to mitigate the causes of some of these instances.

What we seek to accomplish with this data.

- Question 1: What are the top breeds that are bring brought to BARC?

- Question 2: What are the types of conditions we see from the most common breeds?

- Question 3: Are there any trends during the year that fluctuate the intakes?

- Question 4: Are there any trends to how many days are spent in BARC's care?

- Question 5: Can we compare the Intake type and out types to draw any conclusions?

## Packages Used
```{r}
library(tidyverse)
library(dplyr)
library(dslabs) 
library(ggplot2)
```

## The Data Source
The unfiltered data that we are using was obtained through a government public records request from 2011.  The information details some basic intake information for the BARC organization, an animal shelter, in Houston.  You can access this information for yourself through the link below.

https://data.houstontx.gov/dataset/barc-dog-intakes-for-calendar-years-2011-and-2012
```{r, echo = F}
intakes <- read.csv("barc-dog-intakes-for-calendar-years-2011-and-2012.csv")
glimpse(intakes)
```
## Data Cleaning
We will be cleaning up the data and selecting only key terms that pertain to the animals.  Below is a list of keywords as well as descriptions to help us develop a deeper understanding of the intakes.

- breed: Breed of the animal.

- condition: Animals well being upon arrival.

- in_date: Time of processing at BARC.

- days: Time spent in BARC's care.

- in_type: How they were brought in.

- out_type: How they left the shelter.

```{r, echo = F}
sorted_intakes <- intakes %>% select(breed, in_type, condition, out_type, days, in_date)
glimpse(sorted_intakes)
```

## Data Cleaning (Removing Variables)
From here we will check what data is missing and clean those rows in order to prevent issues when comparing data.  To do this we will be using is.na as well as x=="" to check due to being integers and strings and then complete.cases to remove rows.
```{r, echo = F}
sapply(sorted_intakes, function(x) sum(is.na(x)|x==""))
cleaned_intakes <- sorted_intakes[complete.cases(sorted_intakes), ]
sapply(cleaned_intakes, function(x) sum(is.na(x)|x==""))
```

## Data Organizing (Top 10 Breeds)
Starting off lets compare the types of breeds that are entering BARC by sorting and organizing our data further to look at the top 10 most common intakes.
```{r, echo = F}
cleaned_intakes %>% count(breed) %>% summary()
cleaned_intakes %>% count(breed) %>% arrange(desc(n)) %>% head(10)
```

## Question 1
Now lets take a look at the top 5 breeds using a specialized vector and compare the numbers using a simple bar graph.

```{r, echo = F}
breeds <- c("PIT BULL", "LABRADOR RETR", "GERM SHEPHERD", "CHIHUAHUA SH", "CHOW CHOW")

breed_intakes <- cleaned_intakes %>% filter(breed %in% breeds)

ggplot(breed_intakes, aes(x = breed, fill = breed)) + geom_bar() + labs(title = "Comparison of Specific Breeds", x = "Breed", y = "Count", fill = "Breed")
```

## Question 2
Next lets compare the data we just viewed to there condition upon arrival using a bit more intricate form of a bar graph.

```{r, echo = F}
ggplot(breed_intakes, aes(y = breed, fill = condition)) + geom_bar(position = "dodge", stat = "count") + labs(title = "Condition of the Top Five Breeds", x = "Count", y = "Breed", fill = "Condition")
```

## Question 3
Now lets see if we can find any trends for these top 5 breeds on when intakes for them spike throughout the year. To do this we will be using a line graph that we use facet wrap on. After that we will be adjusting the date format to work with our data as well changing the visual to show every 4 months.

```{r, echo = F}
cleaned_intakes$in_date <- as.Date(cleaned_intakes$in_date, format = "%m/%d/%Y")
filtered_breeds <- cleaned_intakes[cleaned_intakes$breed %in% breeds, ]

ggplot(filtered_breeds, aes(x = in_date)) + geom_line(stat = "count", aes(color = breed, group = breed)) + labs(title = "Top Five Dog Intakes Over Time", x = "Date", y = "Number of Intakes") + scale_x_date(date_labels = "%m/%d/%Y", date_breaks = "4 month") + facet_wrap(~breed, scales = "free_y", ncol = 1)
```

## Question 4
Another good trend we may want to observe is the days spent in BARC's care. To do this we will be using a Violin Plot with our top 5 breeds and days the variables. To clean the data and make it easier to digest we will get rid of any 0 day or 50+ day variables.

```{r, echo = F}
filtered_days <- cleaned_intakes[cleaned_intakes$days > 0 & cleaned_intakes$days < 50, ]
filtered_days <- filtered_days[filtered_days$breed %in% breeds, ]

ggplot(filtered_days, aes(x = days, y = breed, fill = breed)) + geom_violin() + labs(title = "Violin Plot of Dog Intakes", x = "Days", y = "Breeds")
```

## Question 5
Finally lets compare the intake and release types of the dogs to see if we can find any trends there. To do this we will be using two jitter plots with the the top 5 breeds, days, in_type and out_type as variables. For visual visuals we will be filtering the data for days to be under 50.

```{r, echo = F}
filtered_days50 <- cleaned_intakes[cleaned_intakes$days < 50, ]
filtered_days50 <- filtered_days50[filtered_days50$breed %in% breeds, ]

ggplot(filtered_days50, aes(x = breed, y = days, color = in_type)) +
  geom_jitter(position = position_jitter(width = 0.2, height = 0), alpha = 0.7) +
  labs(title = "Jitter Plot of Dog Intake Types",
       x = "Breed",
       y = "Days",
       color = "Intake Type")

ggplot(filtered_days50, aes(x = breed, y = days, color = out_type)) +
  geom_jitter(position = position_jitter(width = 0.2, height = 0), alpha = 0.7) +
  labs(title = "Jitter Plot of Dog Release Types",
       x = "Breed",
       y = "Days",
       color = "Out Type")
```

## Conclusion

As we conclude our dive into the data, it becomes evident that animal intakes are not isolated incidents but rather common practices of our communities. The success stories of adoption are wonderful but we must also develop our understanding of the challenges of overpopulation and neglect. Our actions BARC takes to address these problems are not confined within their shelter walls but are linked to the decisions we make as individuals and as a society.









